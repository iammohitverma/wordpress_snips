<script
  src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
  integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script>
  $(document).ready(function () {
    $(".logos_wrapper.owl-carousel").owlCarousel({
      loop: true,
      margin: 10,
      nav: false,
      dots: false,
      autoplay: true,
      autoplayTimeout: 3000,
      autoplaySpeed: 3000,
      // smartSpeed: 450,
      autoplayHoverPause: false,
      slideTransition: "linear",
      responsive: {
        0: {
          items: 2,
        },
        600: {
          items: 3,
        },
        1000: {
          items: 4,
        },
      },
    });
    $(".testimonial_slider.owl-carousel").owlCarousel({
      loop: true,
      margin: 10,
      dots: true,
      nav: false,
      responsive: {
        0: {
          items: 1,
        },
        600: {
          items: 1,
        },
        1000: {
          items: 1,
        },
      },
    });

    // faq accordion
    $(
      ".faq_accordion_wrap .faq_accordion_item:first-child .faq_accordion_body"
    ).slideDown();
    $(".faq_accordion_wrap .faq_accordion_item .faq_accordion_head").click(
      function () {
        $(this).closest(".faq_accordion_item").toggleClass("active");
        $(this).next(".faq_accordion_body").slideToggle();
      }
    );
    $(".back_to_top_btn").click(function () {
      $("html, body").animate({ scrollTop: 0 }, 1000);
    });
  });
</script>

<script>
  // initialize GSAP function
  function initGsap() {
    var headerTL = gsap.timeline({
      onComplete: function () {
        // Add class to header when timeline ends
        document.querySelector(".site_header").classList.add("timeline_ended");
      },
    });
    headerTL.from(".site_header", {
      opacity: 0,
      duration: 0.25,
    });
    headerTL.from(".site_header .logo_wrap", {
      opacity: 0,
      y: "-100px",
      duration: 0.25,
    });
    headerTL.from(".site_header nav", {
      opacity: 0,
      y: "-100px",
      duration: 0.25,
    });
    headerTL.from(".site_header .header_btn", {
      opacity: 0,
      y: "-100px",
      duration: 0.25,
      stagger: 0.075,
    });

    // hero section
    if (document.querySelector(".hero_section")) {
      headerTL.from(".hero_section .hero_content", {
        opacity: 0,
        y: 100,
        duration: 0.5,
        ease: "back.out(1.7)",
      });
    }

    // logos section animation start
    if (document.querySelector(".logos_section")) {
      var logos_section = gsap.timeline({
        scrollTrigger: {
          trigger: ".logos_section",
          scroller: "body",
          markers: false,
          start: "top 70%",
          end: "bottom 0%",
        },
      });

      logos_section.from(".logos_section .fs_16", {
        duration: 0.5,
        x: -100,
        opacity: 0,
        ease: "back.out(2)",
      });
      logos_section.from(".logos_section .logos_area", {
        duration: 0.5,
        x: 100,
        opacity: 0,
        ease: "back.out(2)",
      });
    }

    // mission_section animation start
    if (document.querySelector(".mission_section")) {
      var mission_section = gsap.timeline({
        scrollTrigger: {
          trigger: ".mission_section",
          scroller: "body",
          markers: false,
          start: "top 70%",
          end: "bottom 0%",
        },
      });

      mission_section.from(".mission_section .dot_title", {
        duration: 0.5,
        x: -100,
        opacity: 0,
        ease: "back.out(2)",
      });
      mission_section.from(".mission_section .fs_42", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        ease: "back.out(2)",
      });
      mission_section.from(".mission_section .mission_image_grid", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        delay: 0.25,
        ease: "back.out(2)",
      });
      mission_section.from(".mission_section .arrow_btn", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        delay: 0.25,
        ease: "back.out(2)",
      });
    }

    // build_team_section animation start
    if (document.querySelector(".build_team_section")) {
      var build_team_section = gsap.timeline({
        scrollTrigger: {
          trigger: ".build_team_section",
          scroller: "body",
          markers: false,
          start: "top 60%",
          end: "bottom 0%",
        },
      });

      build_team_section.from(".build_team_section", {
        duration: 0.5,
        opacity: 0,
        ease: "back.out(2)",
      });
      build_team_section.from(
        ".build_team_section .blocks_row_1 .block:first-child",
        {
          duration: 0.5,
          x: -100,
          opacity: 0,
          ease: "back.out(2)",
        },
        "same"
      );
      build_team_section.from(
        ".build_team_section .blocks_row_1 .block:last-child",
        {
          duration: 0.5,
          x: 100,
          opacity: 0,
          ease: "back.out(2)",
        },
        "same"
      );
      build_team_section.from(
        ".build_team_section .blocks_row_2 .block:first-child",
        {
          duration: 0.5,
          x: -100,
          opacity: 0,
          delay: 0.25,
          ease: "back.out(2)",
        },
        "same"
      );
      build_team_section.from(
        ".build_team_section .blocks_row_2 .block:last-child",
        {
          duration: 0.5,
          x: 100,
          opacity: 0,
          delay: 0.25,
          ease: "back.out(2)",
        },
        "same"
      );
    }

    // testimonials_section animation start
    if (document.querySelector(".testimonials_section")) {
      var testimonials_section = gsap.timeline({
        scrollTrigger: {
          trigger: ".testimonials_section",
          scroller: "body",
          markers: false,
          start: "top 60%",
          end: "bottom 0%",
        },
      });

      testimonials_section.from(".testimonials_section", {
        duration: 0.5,
        opacity: 0,
        ease: "back.out(2)",
      });
      testimonials_section.from(".testimonials_section .star_icon", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        ease: "back.out(2)",
      });
      testimonials_section.from(".testimonials_section .testimonial_text ", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        ease: "back.out(2)",
      });
      testimonials_section.from(".testimonials_section .testimonial_by ", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        ease: "back.out(2)",
      });
    }

    // faq_section animation start
    if (document.querySelector(".faq_section")) {
      var faq_section = gsap.timeline({
        scrollTrigger: {
          trigger: ".faq_section",
          scroller: "body",
          markers: false,
          start: "top 60%",
          end: "bottom 0%",
        },
      });

      faq_section.from(".faq_section", {
        duration: 0.5,
        opacity: 0,
        ease: "back.out(2)",
      });
      faq_section.from(".faq_section .dot_title", {
        duration: 0.5,
        y: 100,
        opacity: 0,
        ease: "back.out(2)",
      });
      faq_section.from(".faq_section .faq_text_wrap", {
        duration: 0.35,
        x: -100,
        opacity: 0,
        ease: "back.out(2)",
      });
      faq_section.from(".faq_section .faq_accordion_item", {
        duration: 0.4,
        y: 50,
        opacity: 0,
        stagger: 0.25,
        ease: "back.out(2)",
      });
    }

    // ready_to_build animation start
    if (document.querySelector(".ready_to_build")) {
      var ready_to_build = gsap.timeline({
        scrollTrigger: {
          trigger: ".ready_to_build",
          scroller: "body",
          markers: false,
          start: "top 60%",
          end: "bottom 0%",
        },
      });

      ready_to_build.from(".ready_to_build", {
        duration: 0.5,
        opacity: 0,
        ease: "back.out(2)",
      });
      ready_to_build.from(".ready_to_build .fs_72 ", {
        duration: 0.4,
        x: -100,
        opacity: 0,
        ease: "back.out(2)",
      });
      ready_to_build.from(
        ".ready_to_build .arrow_btn",
        {
          duration: 0.35,
          y: 50,
          opacity: 0,
          ease: "back.out(2)",
        },
        "same"
      );
      ready_to_build.from(
        ".ready_to_build .small_text",
        {
          duration: 0.35,
          y: 50,
          opacity: 0,
          ease: "back.out(2)",
        },
        "same"
      );
    }
  }
  // when page is fully loaded function
  function pageIsLoaded(e) {
    if (window.matchMedia("(min-width: 1024px)").matches) {
      initGsap();
    }
  }

  window.addEventListener("load", pageIsLoaded);
</script>
